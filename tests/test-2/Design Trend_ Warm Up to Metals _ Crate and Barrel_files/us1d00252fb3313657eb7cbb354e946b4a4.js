/*!
 * UserReplay Client Capture Script v1.11.10
 * Copyright: (c) 2015 User Replay Limited. All rights reserved.
 */
(function(){if(typeof UrCapture!="undefined"){return}window.UrCapture={version:"1.11.10",ready:null,imageRequested:false,boundForms:[],autoUpload:true,cookie:"UrCapture",cookies:true,dimensions:true,dnt:false,exclude:{ajax:[],forms:[],pages:[]},forms:true,headers:false,id:null,ignoreCase:false,referrer:true,scrub:{ajax:[],ids:[],json:[],names:[],regex:[]},scrubCards:true,scrubCardsPartial:false,scrubMask:"*",scrubPasswords:true,scrubSource:true,scrubOptions:false,domScrubbingRules:[],server:null,size:0,source:true,timeout:0,xhr:true,xhrConst:{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},cardFieldCache:(function(){var e=[];return{add:function(i){if(e.indexOf(i)===-1){e.push(i)}},find:function(i){return e.indexOf(i)!==-1?true:false}}}()),getCookie:function(e){var I,K,J=document.cookie.split(";");if(J.length===0){return false}for(I=0;I<J.length;I++){K=J[I].split("=");if(K[0].trim()===e&&typeof K[1]!=="undefined"){return K[1].trim()}}return false},getCookies:function(){return document.cookie},isScrubbed:function(e){return e.getAttribute("urscrub")!=null},contentUpload:function(J){var L,i,N,K,I={ajax:["target","method","status","responseText"]};try{if(typeof J!=="object"){throw new Error("options must be a valid object")}if(typeof J.action==="undefined"){throw new Error("options.action is a required parameter")}if(typeof J.url==="undefined"){throw new Error("options.url is a required parameter")}L={id:UrCapture.id,action:J.action,cookie:UrCapture.getCookie(UrCapture.cookie),version:UrCapture.version};i=J.action.toLowerCase();if(typeof I[i]!=="undefined"){for(N in I[i]){if(I[i].hasOwnProperty(N)){if(typeof J[I[i][N]]==="undefined"){throw new Error(I[i][N]+" is a required field for the action: "+J.action)}}}}for(K in J){if(J.hasOwnProperty(K)&&K!=="action"){L[K]=J[K]}}if(L.action==="AJAX"&&typeof L.responseText!==undefined){if(UrCapture.scrubCards){L.responseText=E(L.responseText)}}UrCapture.send("POST",UrCapture.server,true,L)}catch(M){k(M,"contentUpload")}}};var b={ajax:[],ids:[],json:[],names:[],regexRules:[]};function k(J,i){var I={errMsg:J.message,errCode:(J.number&65535),errName:J.name,errLine:J.lineNumber,errLocation:i};c(I)}function G(J){var I,e="";for(I in J){if(J.hasOwnProperty(I)){e+=I+"="+encodeURIComponent(J[I])+"&"}}e=e.replace(/&$/,"");return e}function c(J){if(UrCapture.imageRequested){return}UrCapture.imageRequested=true;try{var N=document.cookie.split(UrCapture.cookie+"="),K=(N.length==2)?N.pop().split(";").shift():"",i=new Image(),I=UrCapture.server+"/"+(J?"error":"beacon")+".gif?",L={id:UrCapture.id,cookie:K,referrer:document.referrer,version:UrCapture.version};I+=G(L);if(J){I+="&"+G(J)}i.src=I}catch(M){}}try{if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(typeof String.prototype.mask!=="function"){String.prototype.mask=function(i,K){var J=this,I="",e=this.length;i=(i.length>=0&&i.length<5)?i:"*";if(K){J=this.substr(0,e-4);I=this.substr(e-4,e)}if(i.length===4){i=i.split("");J=J.replace(/[a-z]/g,i[0]);J=J.replace(/[A-Z]/g,i[1]);J=J.replace(/[^\da-zA-Z]/g,i[3]);J=J.replace(/\d/g,i[2])}else{J=J.replace(/./g,i)}return J+I}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(i){var e=this.length>>>0;var I=Number(arguments[1])||0;I=(I<0)?Math.ceil(I):Math.floor(I);if(I<0){I+=e}for(;I<e;I++){if(I in this&&this[I]===i){return I}}return -1}}var g=0;try{if(navigator.appName=="Microsoft Internet Explorer"){var A=navigator.userAgent;var v=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(v.exec(A)!=null){g=parseFloat(RegExp.$1)}}}catch(B){}if(typeof _UrCapture=="object"){while(_UrCapture.length){var z=_UrCapture.shift();switch(z[0]){case"_autoUpload":UrCapture.autoUpload=(typeof z[1]=="boolean")?z[1]:UrCapture.autoUpload;break;case"_cookie":UrCapture.cookie=(typeof z[1]=="string"&&z[1].trim()!="")?z[1]:UrCapture.cookie;break;case"_cookies":UrCapture.cookies=(typeof z[1]=="boolean")?z[1]:UrCapture.cookies;break;case"_dimensions":UrCapture.dimensions=(typeof z[1]=="boolean")?z[1]:UrCapture.dimensions;break;case"_dnt":UrCapture.dnt=(typeof z[1]=="boolean")?z[1]:UrCapture.dnt;break;case"_exclude":var y=UrCapture.exclude;UrCapture.exclude=(typeof z[1]=="object")?z[1]:UrCapture.exclude;UrCapture.exclude.ajax=(typeof UrCapture.exclude.ajax=="object"&&UrCapture.exclude.ajax.length)?UrCapture.exclude.ajax:y.ajax;UrCapture.exclude.forms=(typeof UrCapture.exclude.forms=="object"&&UrCapture.exclude.forms.length)?UrCapture.exclude.forms:y.forms;UrCapture.exclude.pages=(typeof UrCapture.exclude.pages=="object"&&UrCapture.exclude.pages.length)?UrCapture.exclude.pages:y.pages;break;case"_forms":UrCapture.forms=(typeof z[1]=="boolean")?z[1]:UrCapture.forms;break;case"_headers":UrCapture.headers=(typeof z[1]=="boolean")?z[1]:UrCapture.headers;break;case"_id":UrCapture.id=z[1]||UrCapture.id;break;case"_ignoreCase":UrCapture.ignoreCase=(typeof z[1]=="boolean")?z[1]:UrCapture.ignoreCase;break;case"_referrer":UrCapture.referrer=(typeof z[1]=="boolean")?z[1]:UrCapture.referrer;break;case"_scrub":var r=UrCapture.scrub;UrCapture.scrub=(typeof z[1]=="object")?z[1]:UrCapture.scrub;UrCapture.scrub.ajax=(typeof UrCapture.scrub.ajax=="object"&&UrCapture.scrub.ajax.length)?UrCapture.scrub.ajax:r.ajax;UrCapture.scrub.ids=(typeof UrCapture.scrub.ids=="object"&&UrCapture.scrub.ids.length)?UrCapture.scrub.ids:r.ids;UrCapture.scrub.names=(typeof UrCapture.scrub.names=="object"&&UrCapture.scrub.names.length)?UrCapture.scrub.names:r.names;UrCapture.scrub.regex=(typeof UrCapture.scrub.regex=="object"&&UrCapture.scrub.regex.length)?UrCapture.scrub.regex:r.regex;UrCapture.scrub.json=(typeof UrCapture.scrub.json=="object"&&UrCapture.scrub.json.length)?UrCapture.scrub.json:r.json;break;case"_scrubCards":UrCapture.scrubCards=(typeof z[1]=="boolean")?z[1]:UrCapture.scrubCards;break;case"_scrubMask":UrCapture.scrubMask=(typeof z[1]=="string")?z[1]:UrCapture.scrubMask;break;case"_scrubCardsPartial":UrCapture.scrubCardsPartial=(typeof z[1]=="boolean")?z[1]:UrCapture.scrubCardsPartial;break;case"_scrubPasswords":UrCapture.scrubPasswords=(typeof z[1]=="boolean")?z[1]:UrCapture.scrubPasswords;break;case"_scrubSource":UrCapture.scrubSource=(typeof z[1]=="boolean")?z[1]:UrCapture.scrubSource;break;case"_domScrubbingRules":UrCapture.domScrubbingRules=(typeof z[1]==="object"&&z[1].length)?z[1]:UrCapture.domScrubbingRules;break;case"_scrubOptions":UrCapture.scrubOptions=(typeof z[1]==="boolean")?z[1]:UrCapture.scrubOptions;break;case"_server":UrCapture.server=(typeof z[1]=="string"&&z[1].replace(/^\s+|\s+$/g,"")!="")?z[1]:UrCapture.server;break;case"_source":UrCapture.source=(typeof z[1]=="boolean")?z[1]:UrCapture.source;break;case"_xhr":UrCapture.xhr=(typeof z[1]=="boolean")?z[1]:UrCapture.xhr;break;case"_size":UrCapture.size=(typeof z[1]=="number")?z[1]:UrCapture.size;break;case"_timeout":UrCapture.timeout=(typeof z[1]=="number")?z[1]:UrCapture.timeout;break}}}if(UrCapture.dnt&&(navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1")){return}function f(I,e,i){if(I.addEventListener){I.addEventListener(e,i,false)}else{if(I.attachEvent){I.attachEvent("on"+e,i)}else{return false}}return true}function m(L){var I=[],K={};for(var J=0,e=L.length;J<e;J++){if(!K[L[J]]){K[L[J]]={};I.push(L[J])}}return I}function a(I,K){if(I.length>0&&K.length>0){var e=UrCapture.ignoreCase?"i":"";for(var J in K){if(K.hasOwnProperty(J)){if(new RegExp(K[J],e).test(I)){return true}}}}return false}function n(L,J){var e=[],I,K;for(I=0,K=L.length;I<K;I++){if(L[I].hasOwnProperty(J)){e.push(L[I][J])}}return e}function x(L,J,e){var K=null;for(var I in L){K=(function(O,M){if(L.hasOwnProperty(I)&&typeof L[I]==="object"){if(arguments.length===1){for(var N=0;N<O.length;N++){if(O.indexOf(I)===-1){return null}}return L[I]}else{if(arguments.length===2){for(var i=0;i<O.length;i++){if(L[I][O[i]]!==M[i]){return null}}return L[I]}}}})(J,e);if(K!==null){return K}}return K}function D(J,I){var e;if(J===null){return}I(J);for(e in J){if(J.hasOwnProperty(e)){if(typeof J[e]==="object"){D(J[e],I)}}}}function o(I){var M,L={},J,i;if(I===null||!I.hasOwnProperty("rules")){return this}else{M=I.rules}try{for(L in M){if(M.hasOwnProperty(L)){J=M[L].key;i=M[L].flags;D(this,function(e){if(e&&e.hasOwnProperty(J)){if(i.indexOf("ccn")!==-1){if(l(e[J])){e[J]=e[J].mask(UrCapture.scrubMask,UrCapture.scrubCardsPartial)}}else{e[J]=e[J].mask(UrCapture.scrubMask)}}})}}return this}catch(K){k(K,"An error occurred in ScrubObject()")}}function p(){var M,L,K,J,I,O;if(g==0||g>=8){if(UrCapture.scrubPasswords){try{M=document.getElementsByTagName("input");for(L=0;L<M.length;L++){if(M[L].type.toLowerCase()==="password"&&M[L].getAttribute("urscrub")===null){M[L].setAttribute("urscrub","")}}}catch(N){k(N,"Set Password Scrub Attributes")}}try{if(UrCapture.scrubCards){J=document.getElementsByTagName("input");I=document.getElementsByTagName("textarea");M=j([J,I]);if(M.length>0){for(L=0;L<M.length;L++){O=M[L].value;if(M[L].getAttribute("urscrub")===null&&O.length>0&&l(O)){M[L].setAttribute("urscrub","");UrCapture.cardFieldCache.add(M[L].name)}}}}}catch(N){k(N,"Set Card Scrub Attributes")}try{if(UrCapture.scrub.ids.length>0){for(L=0;L<UrCapture.scrub.ids.length;L++){M=document.getElementById(UrCapture.scrub.ids[L]);if(M!=null&&M.getAttribute("urscrub")===null){M.setAttribute("urscrub","")}}}}catch(N){k(N,"Set IDs Scrub Attributes")}try{M=q("name");if(UrCapture.scrub.names.length>0&&M.length>0){for(L=0;L<M.length;L++){if(UrCapture.scrub.names.indexOf(M[L].name)!=-1&&M[L].getAttribute("urscrub")===null){M[L].setAttribute("urscrub","")}}}}catch(N){k(N,"Set Name Scrub Attributes")}}}function q(L){var J=[];try{J=document.querySelectorAll("["+L+"]")}catch(N){var M=document.getElementsByTagName("*");for(var K=0,I=M.length;K<I;K++){if(M[K].getAttribute(L)!==null){J.push(M[K])}}}return J}function F(M){var L=[];for(var J=0,I=M.length;J<I;J++){try{if(M[J].name){L.push(M[J].name)}if(M[J].getAttribute("urscrub")){L.push(M[J].getAttribute("urscrub"))}}catch(K){k(K,"Get Name Attributes")}}return L}function w(){var e="xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(J){var I=Math.random()*16|0,i=J=="x"?I:(I&3|8);return i.toString(16)});return e}function d(K,I){var L=[];for(var J in K){if(K.hasOwnProperty(J)){var i=I?I+"["+J+"]":J,e=K[J];L.push(typeof e=="object"?d(e,i):i+"="+e)}}return L.join("&")}function u(J){try{var I={};J.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(K,e,M,L){I[e]=L});return I}catch(i){k(i,"objToQuery -> malformed post params: "+J)}}function h(i){var e=[];if(g==0||g>=9){return Array.prototype.slice.call(i)}for(z in i){if(i.hasOwnProperty(z)){e.push(i[z])}}return e}UrCapture.scrub.ajax=m(UrCapture.scrub.ajax);UrCapture.scrub.ids=m(UrCapture.scrub.ids);UrCapture.scrub.names=m(UrCapture.scrub.names);var H=(function(){var e=0,K=document.domain,J=K.split("."),I="_urDomainCheck=";while(e<(J.length-1)&&document.cookie.indexOf(I)===-1){K=J.slice(-1-(++e)).join(".");document.cookie=I+K+"; path=/; domain="+K+"; max-age=3"}return K})();if(!UrCapture.getCookie(UrCapture.cookie)){document.cookie=UrCapture.cookie+"="+w()+"; path=/; domain="+H}try{UrCapture.xdr=(window.XDomainRequest&&g>=8&&g<10)?XDomainRequest:null;UrCapture.ready=(window.XMLHttpRequest||UrCapture.xdr)}catch(B){UrCapture.ready=false;k(B,"XDR Check")}window.onbeforeunload=function(i){i=i||window.event};UrCapture.send=function(M,i,I,K){var J;try{if(UrCapture.xdr){J=new UrCapture.xdr();J.open(M,i)}else{J=new XMLHttpRequest();J.urOpen?J.urOpen(M,i,I):J.open(M,i,I);J.urSetRequestHeader?J.urSetRequestHeader("Content-type","application/x-www-form-urlencoded"):J.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(I){J.timeout=UrCapture.timeout}J.send(G(K))}catch(L){k(L,"Send Capture Data")}};UrCapture.domUpload=function(i){try{if(a(document.URL,UrCapture.exclude.pages)){return false}var I={id:UrCapture.id,action:i.action,cookie:UrCapture.getCookie(UrCapture.cookie),url:document.URL,version:UrCapture.version};if(i.cookies){I.cookies=UrCapture.getCookies()}if(i.dimensions){I.dimensions=UrCapture.getDimensions()}if(i.headers){I.responseHeaders=UrCapture.getHeaders().headers}if(i.referrer){I.referrer=document.referrer}if(i.source){I.source=UrCapture.getHtmlSource();if(UrCapture.size&&I.source.length>UrCapture.size){I.source="Page source code was excluded as its size ("+I.source.length+" bytes) exceeded the maximum allowed size of "+UrCapture.size+" bytes"}}else{I.sourceExcluded=true}UrCapture.send("POST",UrCapture.server,true,I);return true}catch(J){k(J,"DOM Upload");return false}};UrCapture.ajaxUpload=function(i,e,J){var I={id:UrCapture.id,action:"AJAX",cookie:UrCapture.getCookie(UrCapture.cookie),cookies:UrCapture.getCookies(),url:e,version:UrCapture.version,target:xhr.urUrl,method:xhr.urMethod,data:xhr.urBody,status:xhr.status,responseHeaders:xhr.getAllResponseHeaders(),responseText:J}};UrCapture.init=function(){if(UrCapture.forms){UrCapture.getForms()}if(UrCapture.autoUpload){UrCapture.domUpload({action:"PAGE",cookies:UrCapture.cookies,dimensions:UrCapture.dimensions,headers:UrCapture.headers,referrer:UrCapture.referrer,source:UrCapture.source})}};UrCapture.getDimensions=function(){var i=document.getElementsByTagName("body")[0],e=window.innerWidth||document.documentElement.clientWidth||i.clientWidth,I=window.innerHeight||document.documentElement.clientHeight||i.clientHeight;return[e,I]};UrCapture.getForms=function(){var I=document.forms,N=0,K=[];if(I.length){var M=false;for(var J=0;J<I.length;J++){K[J]=I[J];if(UrCapture.boundForms.indexOf(I[J])==-1){f(I[J],"submit",function(O){var i=(O.currentTarget)?O.currentTarget:O.srcElement;t.call(i,false)});M=true;N++}try{if(typeof I[J].urSubmit!=="function"){I[J].urSubmit=I[J].submit;I[J].submit=t}}catch(L){k(L,"getForms submit() override")}}UrCapture.boundForms=K;if(M){p()}}return N};UrCapture.getHeaders=function(){var K="";var I="";try{var i=new XMLHttpRequest();i.urOpen?i.urOpen("GET",document.URL,false):i.open("GET",document.URL,false);i.urSend?i.urSend(null):i.send(null);K=i.getAllResponseHeaders();I=i.responseText}catch(J){k(J,"Get Headers")}return({headers:K,source:I})};UrCapture.getHtmlSource=function(){var J="<!DOCTYPE html>";var U=document.doctype;var L=C();var Z,Q;var V,M,S,N=false;var I,T,P,Y;var K=["INPUT","TEXTAREA","SELECT"];if(U){J="<!DOCTYPE "+U.name+(U.publicId?' PUBLIC "'+U.publicId+'"':"")+(!U.publicId&&U.systemId?" SYSTEM":"")+(U.systemId?' "'+U.systemId+'"':"")+">"}if(UrCapture.scrubSource){var R=h(q("urscrub"));var aa=[];jsonFields=n(UrCapture.scrub.json,"field");if(typeof R!=="undefined"&&R.length){try{for(V=0;V<R.length;V++){if(K.indexOf(R[V].nodeName.toUpperCase())===-1){continue}Z=R[V].value;aa[V]=Z;if(Z===""){continue}if(jsonFields.indexOf(R[V].name)!==-1){try{jsonObj=JSON.parse(Z)}catch(X){k(X,"Invalid JSON set for scrubbing in getHtmlSource. Field: "+R[V].name);continue}scrubbedObj=o.call(jsonObj,x(UrCapture.scrub.json,"field",R[V].name));Z=JSON.stringify(scrubbedObj)}else{if(UrCapture.cardFieldCache.find(R[V].name)){Z=Z.mask(UrCapture.scrubMask,UrCapture.scrubCardsPartial)}else{Z=Z.mask(UrCapture.scrubMask)}}switch(R[V].nodeName.toUpperCase()){case"TEXTAREA":R[V].innerHTML=Z;break;case"INPUT":R[V].value=Z;break;case"SELECT":I=R[V].children;T=[];aa[V]=[];for(P=0;P<I.length;P++){if(I[P].tagName==="OPTGROUP"){T=j([T,I[P].children])}else{if(I[P].tagName==="OPTION"&&I[P].value){T.push(I[P])}}}for(Y=0;Y<T.length;Y++){if(UrCapture.scrubOptions||T[Y].selected){aa[V][Y]={value:T[Y].value,text:T[Y].text};Z=T[Y].value.mask(UrCapture.scrubMask);Q=T[Y].text.mask(UrCapture.scrubMask);T[Y].value=Z;T[Y].text=Q}}break}}}catch(X){k(X,"Scrub Source tags")}}if(L&&L.containers&&L.containers.length>0){try{for(M in L.containers){if(L.containers.hasOwnProperty(M)){S=L.containers[M];R[V]=document.getElementById(S);if(R[V].innerHTML.length>0){aa[V]=R[V].innerHTML;Z=E(R[V].innerHTML);R[V].innerHTML=Z}else{if(R[V].value.length>0){aa[V]=R[V].value;Z=E(R[V].value);R[V].setAttribute("value",Z)}}V++}}}catch(X){k(X,"Scrub Source containers")}}else{N=true}}var O=document.documentElement.outerHTML?J+"\n"+document.documentElement.outerHTML:J+"\n<html>"+document.documentElement.innerHTML+"</html>";if(L&&N){O=E(O)}if(typeof R!=="undefined"&&R.length){try{for(V=0;V<R.length;V++){switch(R[V].nodeName.toUpperCase()){case"TEXTAREA":R[V].innerHTML=aa[V];break;case"INPUT":R[V].value=aa[V];break;case"SELECT":I=R[V].children;T=[];for(P=0;P<I.length;P++){if(I[P].tagName==="OPTGROUP"){T=j([T,I[P].children])}else{if(I[P].tagName==="OPTION"&&I[P].value){T.push(I[P])}}}for(Y=0;Y<T.length;Y++){if(T[Y].tagName==="OPTION"&&T[Y].value&&aa[V][Y]){if(UrCapture.scrubOptions||T[Y].selected){T[Y].value=aa[V][Y].value;T[Y].text=aa[V][Y].text}}}break;default:if(R[V].innerHTML){R[V].innerHTML=aa[V]}break}}}catch(X){k(X,"Source Restore Data")}}var W=/<urscrub\b[^>]*?\/>|<urscrub\b[^>]*>(?:(?!<urscrub\b[^>]*>|<\/urscrub>)[\S\s])*<\/urscrub>/i;while(O!=(O=O.replace(W,""))){}return O};var E=function(K){var J,L,i,e=true,I={};var M=function(Q,S){if(typeof S==="undefined"){I.code=0;I.name="typeError";I.message="Undefined substring in String.replace(). The HTML element's value attribute is likely malformed.";k(I,"scrubPlainText => replaceFunc");return Q}var R=Q.indexOf(S),T=Q.substr(0,R),P=Q.substring(R+S.length),O=i?UrCapture.scrub.regex[i].flags:null,N=null;if(e){if(l(S)){N=S.mask(UrCapture.scrubMask,UrCapture.scrubCardsPartial)}}else{if(O&&O!==null&&O.indexOf("ccn")!==-1&&l(S)){N=S.mask(UrCapture.scrubMask,UrCapture.scrubCardsPartial)}else{N=S.mask(UrCapture.scrubMask)}}return N?T+N+P:Q};J=/value=(?:"?(.*?)"|'?(.*?)'|[^"'][^\s]*)/gi;K=K.replace(J,M);J=/>(.*?)<\/textarea>/gi;K=K.replace(J,M);e=false;if(UrCapture.scrub.regex&&UrCapture.scrub.regex.length>0){for(i in UrCapture.scrub.regex){if(UrCapture.scrub.regex.hasOwnProperty(i)){L=UrCapture.scrub.regex[i];K=K.replace(L.searchExpr,M)}}}return K};var C=function(){var i,e;for(i in UrCapture.domScrubbingRules){if(UrCapture.domScrubbingRules.hasOwnProperty(i)){e=UrCapture.domScrubbingRules[i];if(e.resource===document.URL){return e}}}return false};var t=function(L){var R=0,O=0,K=0,I,M,V,S,N,J=[],T,U,Q;I=this.elements;T=n(UrCapture.scrub.json,"field");if(I.length){for(O=0;O<I.length;O++){switch(I[O].nodeName.toUpperCase()){case"INPUT":case"TEXTAREA":if(I[O].name&&I[O].type.toLowerCase()!="button"){M=I[O].value.trim();if(T.indexOf(I[O].name)!==-1){try{U=JSON.parse(M)}catch(P){k(P,"Invalid JSON set for scrubbing in processFormData. Field: "+I[O].name);continue}Q=o.call(U,x(UrCapture.scrub.json,"field",I[O].name));M=JSON.stringify(Q);J[R++]=[I[O].name,M];continue}if(UrCapture.scrubCards&&l(M)){UrCapture.cardFieldCache.add(I[O].id);M=M.mask(UrCapture.scrubMask,UrCapture.scrubCardsPartial)}else{if(I[O].getAttribute("urscrub")!=null){M=M.mask(UrCapture.scrubMask)}}J[R++]=[I[O].name,M]}break;case"SELECT":if(I[O].name){if(!I[O].multiple){M=I[O].value;if(I[O].getAttribute("urscrub")!=null){M=I[O].value.mask(UrCapture.scrubMask)}J[R++]=[I[O].name,M]}else{if(I[O].selectedIndex>=0){V=I[O].options;if(typeof V.length!=="undefined"){for(K=0;K<V.length;K++){if(V[K].selected){M=V[K].value;if(I[O].getAttribute("urscrub")!=null){M=V[K].value.mask(UrCapture.scrubMask)}J[R++]=[I[O].name,M]}}}}}}break}}}if(!this.defaultPrevented){N="";for(O=0;O<J.length;O++){N+=J[O][0]+"="+J[O][1]+"&"}S={id:UrCapture.id,action:"FORM",cookie:UrCapture.getCookie(UrCapture.cookie),url:document.URL,version:UrCapture.version,target:this.action,method:this.method.toUpperCase(),data:N};if(!a(this.action,UrCapture.exclude.forms)){UrCapture.send("POST",UrCapture.server,false,S)}}if(arguments.length===0){this.urSubmit()}};if(UrCapture.ready&&UrCapture.xhr&&(g==0||g>=8)&&window.XMLHttpRequest){XMLHttpRequest.prototype.urMethod="";XMLHttpRequest.prototype.urUrl="";XMLHttpRequest.prototype.urRequest="";XMLHttpRequest.prototype.urBody="";XMLHttpRequest.prototype.urOpen=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.urSend=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.urSetRequestHeader=XMLHttpRequest.prototype.setRequestHeader;var s=function(O){var S,L,J,T,K=false,U,Z={},R,M,Y,I,W;var Q=0,N=1,P=2;if(!(g>=8&&g<9)){O=this}if(O.readyState==UrCapture.xhrConst.DONE){if(!a(O.urUrl,UrCapture.exclude.ajax)){if(O.urBody){p();I=n(UrCapture.scrub.json,"field");W=m(UrCapture.scrub.ajax.concat(F(q("urscrub")),I));if(W.length){if(typeof O.urBody==="string"){try{L=decodeURIComponent(O.urBody);K=O.urBody!==L}catch(X){L=O.urBody}try{L=JSON.parse(L);J=N}catch(X){L=u(L);J=Q}}else{L=O.urBody;J=P}if(J===N||J===P){M=x(UrCapture.scrub.json,["field","url"],["__xhrpostdata",O.responseURL]);Z=o.call(L,M)}else{U=(typeof L!=="undefined")?L:O.urBody;for(var V in U){if(U.hasOwnProperty(V)){if(W.indexOf(decodeURIComponent(V))!==-1){Y=false;if(typeof U[V]==="string"){if(I.indexOf(V)!==-1){try{T=JSON.parse(U[V].trim());Y=true}catch(X){k(X,"Invalid JSON set for scrubbing in AJAX Call. Field: "+V);continue}}else{if(UrCapture.scrubCards&&l(U[V])){Z[V]=U[V].mask(UrCapture.scrubMask,UrCapture.scrubCardsPartial)}else{Z[V]=U[V].mask(UrCapture.scrubMask)}continue}}if(typeof T==="undefined"){T=U[V]}R=o.call(T,x(UrCapture.scrub.json,"field",V));Z=Y?JSON.stringify(R):R}else{Z[V]=U[V]}}}}if(typeof O.urBody==="string"){Z=(J===N)?JSON.stringify(Z):d(Z,false);if(K){Z=encodeURIComponent(Z)}}else{Z=JSON.stringify(Z)}O.urBody=Z}}try{S=decodeURIComponent(decodeURIComponent(O.responseText))}catch(X){S=O.responseText}if(UrCapture.scrubCards){S=E(S)}var aa={id:UrCapture.id,action:"AJAX",cookie:UrCapture.getCookie(UrCapture.cookie),cookies:UrCapture.getCookies(),url:document.URL,version:UrCapture.version,target:O.urUrl,method:O.urMethod,data:O.urBody,status:O.status,requestHeaders:O.urRequest,responseHeaders:O.getAllResponseHeaders(),responseText:S};UrCapture.send("POST",UrCapture.server,true,aa)}}};XMLHttpRequest.prototype.open=function(){this.urMethod=arguments[0];this.urUrl=arguments[1];try{if(g>=8&&g<9){var K=this;var I=Date.now()+30000;var i=window.setInterval(function(){if(K.readyState==UrCapture.xhrConst.DONE||Date.now()>=I){clearInterval(i)}if(K.readyState==UrCapture.xhrConst.DONE){s(K)}},10)}else{f(this,"readystatechange",s)}}catch(J){k(J,"XHR Open")}return this.urOpen.apply(this,h(arguments))};XMLHttpRequest.prototype.send=function(){this.urBody=arguments[0];this.urSend.apply(this,h(arguments))};XMLHttpRequest.prototype.setRequestHeader=function(){this.urRequest+=arguments[0]+": "+arguments[1]+"\n";this.urSetRequestHeader.apply(this,h(arguments))}}var j=function(K){var e=[],J,I;for(J=0;J<K.length;J++){for(I=0;I<K[J].length;I++){e.push(K[J][I])}}return e};var l=(function(e){return function(M){var I=M.replace(/\D/g,""),L=/^(?:[1-9]\d{11,18})$/g,i=I.length,K=1,J=0;if(!I.match(L)){return false}while(i--){J+=!(K^=1)?parseInt(I[i],10):e[I[i]]}return J%10===0&&J>0}})([0,2,4,6,8,1,3,5,7,9]);UrCapture.ready?UrCapture.init():c()}catch(B){k(B,"Main Block")}})();