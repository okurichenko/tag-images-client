(function($){$.fn.smoothScrollTo=function(options,callback){var settings=$.extend({'offset':0,'duration':700},options);return this.each(function(){var $this=$(this),objectPos=$this.offset().top,objectOff=objectPos+settings.offset,offset=offset?offset:0,called=false,invokeCallback=function(){if(callback&&typeof callback==='function'&&!called){callback();called=true;}};if($(window).scrollTop()!==objectOff){$('body, html').animate({'scrollTop':objectOff},settings.duration,invokeCallback);}else{invokeCallback();}});};})(jQuery);