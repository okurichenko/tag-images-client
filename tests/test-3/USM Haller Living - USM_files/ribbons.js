define(['./USM','jquery','jquery.royalslider'],function(USM,$){'use strict';$(function(){USM.ribbon={};function Ribbon(name,options){this.className=".rib."+name;this.slider=null;this.options=$.extend({},this.options,options);}
Ribbon.prototype.options={autoHeight:true,addActiveClass:true,arrowsNav:true,arrowsNavAutoHide:false,controlNavigation:false,loopRewind:false,navigateByClick:false,numImagesToPreload:4,slidesSpacing:0,mvArrowsToContainer:false,setHighestSlide:false};Ribbon.prototype.init=function(){var slider=null,$object=$(this.className+" .royalSlider"),setHighestSlide=this.options.setHighestSlide,mvArrowsToContainer=this.options.mvArrowsToContainer,options=this.options;if(this.className===".rib.text"){options.addActiveClass=false;}
$object.each(function(){var $this=$(this);slider=$this.royalSlider(options).data('royalSlider');var resizeSlides=function(){var highestSlide=0,i=0,length=slider.slides.length;for(i;i<length;i++){var height=slider.slides[i].content.height();if(height>highestSlide){highestSlide=height;}}
if(highestSlide!==0){$this.find('.rsSlide').height(highestSlide);}};if(setHighestSlide){resizeSlides();slider.ev.on('rsAfterSlideChange',resizeSlides);}
if(mvArrowsToContainer){$this.find('.rsArrow').appendTo($this.siblings('.rib-ctrl').find('.arrow-container'));}
if($this.parents('.rib-slave').length){var $ribSlave=$this.parents('.rib-slave'),$ribMaster=$ribSlave.siblings('.rib-master').first();$ribMaster.find('.rsArrowRight').click(function(){$this.data('royalSlider').next();});$ribMaster.find('.rsArrowLeft').click(function(){$this.data('royalSlider').prev();});}});this.slider=slider;};Ribbon.prototype.removeAllSlides=function(){var i=0;var numSlides=this.slider.numSlides;while(i<numSlides){this.slider.removeSlide(0);i++;}};Ribbon.prototype.addSlide=function(obj,index){this.slider.appendSlide(obj,index);};Ribbon.prototype.updateSliderSize=function(){this.slider.updateSliderSize();};USM.ribbon.product=new Ribbon("product",{setHighestSlide:true,controlNavigation:'bullets','mvArrowsToContainer':true});USM.ribbon.text=new Ribbon("text",{'mvArrowsToContainer':true});USM.ribbon.related_images=new Ribbon("related_images",{setHighestSlide:true,controlNavigation:'bullets','mvArrowsToContainer':true});USM.ribbon.scenario=new Ribbon("scenario",{'mvArrowsToContainer':true,controlNavigation:'none',autoHeight:false,autoScaleSlider:true,autoScaleSliderWidth:895,autoScaleSliderHeight:512});USM.ribbon.product.init();USM.ribbon.scenario.init();USM.ribbon.related_images.init();USM.ribbon.text.init();});});