define(['jquery'],function($){'use strict';$(function(){var MoreImages=function(el,options){var self=this;self.settings=$.extend({},$.fn.moreImages.defaults,options);self.$el=$(el);self.$btnMore=self.$el.find('.grid-m-btn');self.$hiddenImgs=self.$el.find('.grid-m');self.$gridCtrl=self.$el.find('.rib-ctrl.shop');self.gridImgsSelect='.grid.shop .grid-l:nth-child(3n+1)';self.myToggle=self.toggle();self.myToggle.init();};MoreImages.prototype.toggle=function(){var self=this,mod={};mod.init=function(){self.$el.on('mouseenter.mi',self.gridImgsSelect,mod.addHover);self.$el.on('mouseenter.mi','.rib-ctrl.shop',mod.addHover);self.$el.on('mouseleave.mi',self.gridImgsSelect,mod.delHover);self.$el.on('mouseleave.mi','.rib-ctrl.shop',mod.delHover);self.$el.on('mouseenter.swap','.grid-l',mod.swapImage);self.$el.on('mouseleave.swap','.grid-l',mod.swapImage);self.$btnMore.on('click.mi',mod.showMore);};mod.showMore=function(){self.$hiddenImgs.toggleClass('active');$(this).find('.rsArrow').toggleClass('rsArrowDown rsArrowUp');return false;};mod.swapImage=function(){var $img=$(this).find('.grid-i'),swapSrc=$img.data('swap-img'),$swapImg=$img.siblings('.swap-img');if(swapSrc){if(!$img.data('hasSwapImage')){$img.data('hasSwapImage',true);var $newImg=$('<img>').addClass('grid-i swap-img');$newImg.load(function(){$newImg.addClass('active').insertAfter($img);});$newImg.attr('src',swapSrc);}else{$swapImg.toggleClass('active');}}
return false;};mod.addHover=function(){self.$gridCtrl.addClass('hover');};mod.delHover=function(){self.$gridCtrl.removeClass('hover');};return{init:mod.init};};$.fn.moreImages=function(options){return this.each(function(){var self=$(this);if(typeof options==='object'||!options){if(!self.data('moreImages')){self.data('moreImages',new MoreImages(self,options));}}});};$.fn.moreImages.defaults={};$('.jQ-more-images').moreImages();});});